{
  "meta": {
    "title": "Hvor stort kan du bygge?"
  },
  "schema": [
    {
      "id": "start",
      "type": "Page",
      "heading": "Regulering av eiendommen",
      "children": [
        {
          "id": "regulation",
          "property": "regulation",
          "type": "Radio",
          "heading": "Er eiendommen regulert?",
          "text": "Hvis du fant du en reguleringsplan hos kommunen, er eiendommen regulert.",
          "options": [
            {
              "id": "regulation.yes",
              "type": "Answer",
              "heading": "Ja, eiendommen er regulert.",
              "value": "yes"
            },
            {
              "id": "regulation.no",
              "type": "Answer",
              "heading": "Nei, eiendommen er ikke regulert.",
              "value": "no"
            }
          ]
        },
        {
          "type": "Branch",
          "branches": [
            {
              "test": {
                "field": "regulation",
                "operator": "eq",
                "value": "no"
              },
              "children": [
                {
                  "id": "finneskommuneplanen",
                  "property": "finneskommuneplanen",
                  "type": "Radio",
                  "heading":
                    "Er det bestemmelser i kommuneplanen eller -delplanen som sier noe om tillatt grad av utnytting?",
                  "options": [
                    {
                      "id": "finneskommuneplanen.yes",
                      "type": "Answer",
                      "heading": "Ja",
                      "value": "yes"
                    },
                    {
                      "id": "finneskommuneplanen.no",
                      "type": "Answer",
                      "heading": "Nei",
                      "value": "no"
                    }
                  ]
                }
              ]
            },
            {
              "test": {
                "field": "regulation",
                "operator": "eq",
                "value": "yes"
              },
              "children": [
                {
                  "id": "isreguleringsplanen",
                  "property": "isreguleringsplanen",
                  "type": "Radio",
                  "heading":
                    "Står det noe i kommuneplanen eller delplanen om at den gjelder foran reguleringsplanen?",
                  "text":
                    "Hvis reguleringsplanen er vedtatt senere enn kommuneplanen/-delplanen, er det reguleringsplanen som gjelder, og du kan svare nei.",
                  "options": [
                    {
                      "id": "isreguleringsplanen.yes",
                      "type": "Answer",
                      "heading": "Ja, den gjelder foran reguleringsplanen",
                      "value": "yes"
                    },
                    {
                      "id": "isreguleringsplanen.no",
                      "type": "Answer",
                      "heading": "Nei, det står ingenting om det",
                      "value": "no"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "Branch",
          "branches": [
            {
              "test": {
                "type": "and",
                "clauses": [
                  {
                    "field": "regulation",
                    "operator": "eq",
                    "value": "no"
                  },
                  {
                    "field": "finneskommuneplanen",
                    "operator": "eq",
                    "value": "yes"
                  }
                ]
              },
              "children": [
                {
                  "id": "kommuneplanen",
                  "property": "kommuneplanen",
                  "type": "Radio",
                  "heading": "Hvordan defineres grad av utnytting i kommuneplanen?",
                  "options": [
                    {
                      "id": "kommuneplanen.bya",
                      "type": "Answer",
                      "heading": "BYA",
                      "value": "bya"
                    },
                    {
                      "id": "kommuneplanen.pbya",
                      "type": "Answer",
                      "heading": "%BYA",
                      "value": "pbya"
                    },
                    {
                      "id": "kommuneplanen.bra",
                      "type": "Answer",
                      "heading": "BRA",
                      "value": "bra"
                    },
                    {
                      "id": "kommuneplanen.pbra",
                      "type": "Answer",
                      "heading": "%BRA",
                      "value": "pbra"
                    },
                    {
                      "id": "kommuneplanen.tbra",
                      "type": "Answer",
                      "heading": "T-BRA",
                      "value": "tbra"
                    },
                    {
                      "id": "kommuneplanen.ptu",
                      "type": "Answer",
                      "heading": "%TU",
                      "value": "ptu"
                    },
                    {
                      "id": "kommuneplanen.none",
                      "type": "Answer",
                      "heading": "Ingen av disse",
                      "value": "none"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "Branch",
          "branches": [
            {
              "test": {
                "type": "and",
                "clauses": [
                  {
                    "field": "regulation",
                    "operator": "eq",
                    "value": "yes"
                  },
                  {
                    "field": "isreguleringsplanen",
                    "operator": "eq",
                    "value": "yes"
                  }
                ]
              },
              "children": [
                {
                  "id": "kommuneplanen",
                  "property": "kommuneplanen",
                  "type": "Radio",
                  "heading": "Hvordan defineres grad av utnytting i kommuneplanen?",
                  "options": [
                    {
                      "id": "kommuneplanen.bya",
                      "type": "Answer",
                      "heading": "BYA",
                      "value": "bya"
                    },
                    {
                      "id": "kommuneplanen.pbya",
                      "type": "Answer",
                      "heading": "%BYA",
                      "value": "pbya"
                    },
                    {
                      "id": "kommuneplanen.bra",
                      "type": "Answer",
                      "heading": "BRA",
                      "value": "bra"
                    },
                    {
                      "id": "kommuneplanen.pbra",
                      "type": "Answer",
                      "heading": "%BRA",
                      "value": "pbra"
                    },
                    {
                      "id": "kommuneplanen.tbra",
                      "type": "Answer",
                      "heading": "T-BRA",
                      "value": "tbra"
                    },
                    {
                      "id": "kommuneplanen.ptu",
                      "type": "Answer",
                      "heading": "%TU",
                      "value": "ptu"
                    },
                    {
                      "id": "kommuneplanen.none",
                      "type": "Answer",
                      "heading": "Ingen av disse",
                      "value": "none"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "Branch",
          "branches": [
            {
              "test": {
                "type": "and",
                "clauses": [
                  {
                    "field": "regulation",
                    "operator": "eq",
                    "value": "yes"
                  },
                  {
                    "field": "isreguleringsplanen",
                    "operator": "eq",
                    "value": "no"
                  }
                ]
              },
              "children": [
                {
                  "id": "kommuneplanen",
                  "property": "kommuneplanen",
                  "type": "Radio",
                  "heading": "Hvordan defineres grad av utnytting i reguleringsplanen?",
                  "options": [
                    {
                      "id": "kommuneplanen.bya",
                      "type": "Answer",
                      "heading": "BYA",
                      "value": "bya"
                    },
                    {
                      "id": "kommuneplanen.pbya",
                      "type": "Answer",
                      "heading": "%BYA",
                      "value": "pbya"
                    },
                    {
                      "id": "kommuneplanen.bra",
                      "type": "Answer",
                      "heading": "BRA",
                      "value": "bra"
                    },
                    {
                      "id": "kommuneplanen.pbra",
                      "type": "Answer",
                      "heading": "%BRA",
                      "value": "pbra"
                    },
                    {
                      "id": "kommuneplanen.tbra",
                      "type": "Answer",
                      "heading": "T-BRA",
                      "value": "tbra"
                    },
                    {
                      "id": "kommuneplanen.ptu",
                      "type": "Answer",
                      "heading": "%TU",
                      "value": "ptu"
                    },
                    {
                      "id": "kommuneplanen.none",
                      "type": "Answer",
                      "heading": "Ingen av disse",
                      "value": "none"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "Branch",
          "branches": [
            {
              "test": {
                "type": "or",
                "clauses": [
                  {
                    "type": "and",
                    "clauses": [
                      {
                        "field": "regulation",
                        "operator": "eq",
                        "value": "no"
                      },
                      {
                        "field": "finneskommuneplanen",
                        "operator": "eq",
                        "value": "no"
                      }
                    ]
                  },
                  {
                    "field": "kommuneplanen",
                    "operator": "eq",
                    "value": "none"
                  }
                ]
              },
              "children": [
                {
                  "id": "insufficientKommuneplanen",
                  "type": "Error",
                  "simple": true,
                  "children": [
                    {
                      "id": "insufficientKommuneplanen",
                      "type": "Text",
                      "warning": true,
                      "heading":
                        "Beklager, da kan du ikke bruke denne veiviseren. Ta kontakt med kommunen din, så hjelper de deg videre."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "Branch",
          "branches": [
            {
              "test": {
                "type": "and",
                "clauses": [
                  {
                    "field": "kommuneplanen",
                    "operator": "neq",
                    "value": "bra"
                  },
                  {
                    "field": "kommuneplanen",
                    "operator": "neq",
                    "value": "pbra"
                  },
                  {
                    "field": "kommuneplanen",
                    "operator": "required"
                  },
                  {
                    "field": "kommuneplanen",
                    "operator": "neq",
                    "value": "none"
                  }
                ]
              },
              "children": [
                {
                  "id": "regulationTime",
                  "property": "regulationTime",
                  "type": "Radio",
                  "heading": "Når er kommuneplanen vedtatt?",
                  "options": [
                    {
                      "id": "regulationTime.before",
                      "type": "Answer",
                      "heading": "Før 1.7.1997",
                      "value": "before"
                    },
                    {
                      "id": "regulationTime.after",
                      "type": "Answer",
                      "heading": "Etter 1.7.1997",
                      "value": "after"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "Branch",
          "branches": [
            {
              "test": {
                "type": "or",
                "clauses": [
                  {
                    "field": "kommuneplanen",
                    "operator": "eq",
                    "value": "pbya"
                  },
                  {
                    "field": "kommuneplanen",
                    "operator": "eq",
                    "value": "pbra"
                  },
                  {
                    "field": "kommuneplanen",
                    "operator": "eq",
                    "value": "ptu"
                  }
                ]
              },
              "children": [
                {
                  "id": "utilizationArea",
                  "property": "utilizationArea",
                  "type": "Number",
                  "heading": "Hva er tillatt grad av utnytting i kommuneplanen?",
                  "unit": "%",
                  "minimum": 0,
                  "maximum": 100
                }
              ]
            }
          ]
        },
        {
          "type": "Branch",
          "branches": [
            {
              "test": {
                "type": "or",
                "clauses": [
                  {
                    "field": "kommuneplanen",
                    "operator": "eq",
                    "value": "bya"
                  },
                  {
                    "field": "kommuneplanen",
                    "operator": "eq",
                    "value": "bra"
                  },
                  {
                    "field": "kommuneplanen",
                    "operator": "eq",
                    "value": "tbra"
                  }
                ]
              },
              "children": [
                {
                  "id": "utilizationArea",
                  "property": "utilizationArea",
                  "type": "Number",
                  "heading": "Hva er tillatt grad av utnytting i reguleringsplanen?",
                  "unit": "m<sup>2</sup>",
                  "minimum": 0
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "Branch",
      "branches": [
        {
          "test": {
            "type": "and",
            "clauses": [
              {
                "field": "utilizationArea",
                "operator": "required"
              },
              {
                "type": "or",
                "clauses": [
                  {
                    "field": "kommuneplanen",
                    "operator": "eq",
                    "value": "pbya"
                  },
                  {
                    "field": "kommuneplanen",
                    "operator": "eq",
                    "value": "pbra"
                  },
                  {
                    "field": "kommuneplanen",
                    "operator": "eq",
                    "value": "ptu"
                  }
                ]
              }
            ]
          },
          "children": [
            {
              "id": "page1",
              "type": "Page",
              "heading": "Størrelse på eiendommen",
              "children": [
                {
                  "id": "propertyArea",
                  "property": "propertyArea",
                  "type": "Number",
                  "heading": "Hvor stor er eiendommen?",
                  "unit": "m<sup>2</sup>",
                  "minimum": 0,
                  "text":
                    "<p>Arealet på eiendommen finner du i et matrikkelbrev (tidligere ble dette kalt målebrev). Matrikkelbrev får du fra kommunen. Du kan også se eiendommens areal på <a href=\"http://www.seeiendom.no/\">Kartverkets nettsted seeiendom.no</a></p>"
                },
                {
                  "id": "nonSettlementArea",
                  "property": "nonSettlementArea",
                  "type": "Number",
                  "heading":
                    "Hvor stor del av eiendommen er regulert til noe annet enn bebyggelse?",
                  "minimum": 0,
                  "unit": "m<sup>2</sup>",
                  "text":
                    "<p>Hvis eiendommen ikke er regulert til noe annet, skriver du inn tallet 0 i feltet under.</p>",
                  "summary": "Hva er byggeområde?",
                  "details":
                    "<p>Når du skal beregne grad av utnytting, skal du bare bruke arealet som er regulert til byggeområde. Du skal ikke ta med deler av eiendommen som er regulert til for eksempel:</p><ul><li>felles adkomstvei</li><li>gang- og sykkelvei</li><li>friområde</li><li>grøntareal</li><li>fellesområder</li></ul><img src=\"/img/figur_01.png\" alt=\"Utsnitt av kart\"><h3>Dette kartet er bare et eksempel!</h3><ul><li>BLÅ: Eiendommens grenser</li><li>GRÅ: Vei og felles adkomst</li><li>GRØNN: Friområde</li><li>GUL: Byggeområde</li></ul><p>Du skal altså måle alt bortsett fra det gule området.</p><p>Sjekk din eiendom i reguleringsplan eller kommuneplan. Mål <strong>alle</strong> areal som <strong>ikke</strong> er regulert til byggeområde.</p>"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "Branch",
      "branches": [
        {
          "test": {
            "field": "utilizationArea",
            "operator": "required"
          },
          "children": [
            {
              "id": "Page2",
              "type": "Page",
              "heading": "Bebyggelse på eiendommen",
              "lead":
                "Du skal måle areal i BYA. Det betyr bebygd areal.<p>Vi må finne en løsning for \"Hva er bebygd areal?\" lenken. Skal vi lage en egen side?",
              "children": [
                {
                  "id": "areaToBeDemolished",
                  "property": "areaToBeDemolished",
                  "type": "Group",
                  "simple": true,
                  "heading": "Hvor mye av eiendommen din er allerede bebygd?",
                  "text":
                    "<p>Hvis det ikke er noe bebyggelse på eiendommen din, kryss av for \"ingen bebyggelse\" under. Da fylles feltene automatisk ut med 0.</p>",
                  "children": [
                    {
                      "id": "noResidence",
                      "property": "noResidence",
                      "type": "Checkbox",
                      "options": [
                        {
                          "id": "noResidence.yes",
                          "type": "Answer",
                          "text": "Ingen bebyggelse",
                          "value": "yes"
                        }
                      ]
                    },
                    {
                      "id": "builtResidence",
                      "property": "builtResidence",
                      "type": "Number",
                      "heading": "Bruksareal bolig",
                      "unit": "m<sup>2</sup>",
                      "minimum": 0
                    },
                    {
                      "id": "builtGarage",
                      "property": "builtGarage",
                      "type": "Number",
                      "heading": "Areal frittstående garasje",
                      "unit": "m<sup>2</sup>",
                      "minimum": 0
                    },
                    {
                      "id": "builtSmallBuilding",
                      "property": "builtSmallBuilding",
                      "type": "Number",
                      "heading": "Areal frittstående bod/uthus/dukkehus",
                      "unit": "m<sup>2</sup>",
                      "minimum": 0
                    },
                    {
                      "id": "builtOther",
                      "property": "builtOther",
                      "type": "Number",
                      "heading": "Areal for annen frittstående konstruksjon",
                      "unit": "m<sup>2</sup>",
                      "minimum": 0
                    },
                    {
                      "id": "alreadyBuilt",
                      "property": "alreadyBuilt",
                      "type": "Sum",
                      "values": [
                        "builtResidence",
                        "builtGarage",
                        "builtSmallBuilding",
                        "builtOther"
                      ],
                      "minimum": 0,
                      "optional": true,
                      "heading": "Totalt bebygd areal",
                      "unit": "m<sup>2</sup>"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "Branch",
      "branches": [
        {
          "test": {
            "field": "utilizationArea",
            "operator": "required"
          },
          "children": [
            {
              "id": "Page3",
              "type": "Page",
              "heading": "Planlagte endringer på eiendommen",
              "children": [
                {
                  "id": "arealBebyggelseSomSkalRives",
                  "property": "arealBebyggelseSomSkalRives",
                  "type": "Number",
                  "heading": "Areal som skal rives",
                  "unit": "m<sup>2</sup>",
                  "text":
                    "<p>Hvis du ikke skal rive noe skriver du inn tallet 0.</p><p>Du skal måle areal som skal rives i TODO VARIABEL HER BRA. Det betyr bruksareal.</p>",
                  "validator": {
                    "test": {
                      "field": "arealBebyggelseSomSkalRives",
                      "operator": "lte",
                      "value": { "field": "propertyArea" }
                    },
                    "error": "Areal som skal rives må være mindre enn bebygget areal"
                  }
                },
                {
                  "id": "tempebygd",
                  "property": "tempebygd",
                  "type": "Number",
                  "heading": "Hvor stort blir det nye du skal bygge?",
                  "text":
                    "<p>Du skal måle areal som skal bygges i BYA. Det betyr bebygd areal.</p>",
                  "unit": "m<sup>2</sup>",
                  "minimum": 0
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "Branch",
      "branches": [
        {
          "test": {
            "field": "utilizationArea",
            "operator": "required"
          },
          "children": [
            {
              "id": "Page5",
              "type": "Page",
              "heading": "Krav om parkeringsplasser på terreng",
              "lead":
                "Parkeringsplasser som ligger på terreng (altså ikke i garasje) blir tatt med i grad av utnytting.<p>Du finner som regel kravene som gjelder for din eiendom i planbestemmelsen du har funnet fram tidligere: Enten reguleringsplanen eller kommuneplanen. Du kan også sjekke om kommunen har en parkeringsnorm.</p>",
              "summary": "Viktig info om krav til parkering",
              "details":
                "<p>Det er varierende hvilke krav det er til minimum parkeringsplass på en eiendom. Det er derfor viktig at du sjekker bestemmelsene i din kommune nøye.</p><p>Noen kommuner har spesialbestemmelser om parkering som sier at ikke all parkering på terreng skal regnes med, eller at noe parkering bestandig må regnes med.</p><p>Du finner som regel kravene som gjelder for din eiendom i planbestemmelsen du har funnet fram tidligere: Enten reguleringsplanen eller kommuneplanen. Du kan også sjekke om kommunen har en parkeringsnorm som er gjeldende om du ikke finner noe her.</p><p>Det er veldig viktig at du leser dokumentene svært nøye. Kommunen din kan ha helt spesielle bestemmelser du selv må fortelle denne veiviseren om for å få riktig resultat.</p><p>Typisk kreves det to biloppstillingsplasser per boenhet for eneboliger og tomannsboliger. Disse er ofte definert til 18 m<sup>2</sup>. Det er dog så store variasjoner at du må sjekke nøye med din kommune før du bruker disse verdiene.</p>",
              "children": [
                {
                  "id": "requiredParkingSpots",
                  "property": "requiredParkingSpots",
                  "type": "Number",
                  "heading": "Hvor mange parkeringsplasser kreves totalt på eiendommen?",
                  "minimum": 0,
                  "unit": "stk"
                },
                {
                  "id": "hasRequiredExtraTerrainParkingPlacesInRegPlan",
                  "property": "hasRequiredExtraTerrainParkingPlacesInRegPlan",
                  "type": "Radio",
                  "heading":
                    "Har reguleringsplanen krav til minimum antall parkeringsplasser på terreng?",
                  "options": [
                    {
                      "id": "hasRequiredExtraTerrainParkingPlacesInRegPlan.yes",
                      "type": "Answer",
                      "heading": "Ja",
                      "value": "yes"
                    },
                    {
                      "id": "hasRequiredExtraTerrainParkingPlacesInRegPlan.no",
                      "type": "Answer",
                      "heading": "Nei",
                      "value": "no"
                    }
                  ]
                },
                {
                  "type": "Branch",
                  "branches": [
                    {
                      "test": {
                        "field": "hasRequiredExtraTerrainParkingPlacesInRegPlan",
                        "operator": "eq",
                        "value": "yes"
                      },
                      "children": [
                        {
                          "id": "requiredParkingSpotsTerrain",
                          "property": "requiredParkingSpotsTerrain",
                          "type": "Number",
                          "heading": "Hvor mange parkeringsplasser på terreng kreves?",
                          "unit": "stk",
                          "minumum": 0
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "Branch",
                  "branches": [
                    {
                      "test": {
                        "type": "or",
                        "clauses": [
                          {
                            "type": "and",
                            "clauses": [
                              {
                                "field": "requiredParkingSpots",
                                "operator": "required"
                              },
                              {
                                "field": "numberOfParkinglotsInCarport",
                                "operator": "required"
                              },
                              {
                                "field": "numberOfParkinglotsInCarport",
                                "operator": "lt",
                                "value": {
                                  "field": "requiredParkingSpots"
                                }
                              }
                            ]
                          },
                          {
                            "field": "hasRequiredExtraTerrainParkingPlacesInRegPlan",
                            "operator": "eq",
                            "value": "yes"
                          }
                        ]
                      },
                      "children": [
                        {
                          "id": "parkingPlaceArea",
                          "property": "parkingPlaceArea",
                          "type": "Number",
                          "heading": "Hvor stor må hver parkeringsplass være?",
                          "text":
                            "<p>Sier parkeringsreglene for din eiendom noe om hvor stor hver parkeringsplass må være? Hvis det ikke står noe, er det 18 m2.</p>",
                          "minumum": 0,
                          "unit": "m<sup>2</sup>"
                        }
                      ]
                    }
                  ]
                },
                {
                  "id": "numberOfParkinglotsInCarport",
                  "property": "numberOfParkinglotsInCarport",
                  "type": "Number",
                  "heading": "Antall parkeringsplasser i garasje/carport",
                  "minimum": 0,
                  "unit": "stk"
                },
                {
                  "type": "Branch",
                  "branches": [
                    {
                      "test": {
                        "type": "and",
                        "clauses": [
                          {
                            "field": "hasRequiredExtraTerrainParkingPlacesInRegPlan",
                            "operator": "eq",
                            "value": "no"
                          },
                          {
                            "field": "numberOfParkinglotsInCarport",
                            "operator": "lt",
                            "value": {
                              "field": "requiredParkingSpots"
                            }
                          }
                        ]
                      },
                      "children": [
                        {
                          "id": "numberOfParkinglotsInCarportToFew",
                          "property": "numberOfParkinglotsInCarportToFew",
                          "type": "ErrorOk",
                          "simple": true,
                          "children": [
                            {
                              "id": "numberOfParkinglotsInCarportToFewText",
                              "property": "numberOfParkinglotsInCarportToFewText",
                              "type": "Text",
                              "warning": true,
                              "variables": true,
                              "text":
                                "Det totale parkeringskravet er ikke dekket. Det er lagt til manglende parkeringsplasser for å oppfylle minstekravet på din eiendom."
                            },
                            {
                              "id": "parkingGroup",
                              "property": "parkingGroup",
                              "type": "Group",
                              "simple": true,
                              "optional": true,
                              "summary": "Beskrivelse av utregning",
                              "details":
                                "<p>Hvor stort parkeringsareal du må ha er produktet av hvor stor hver parkeringsplass må være og antall parkeringsplasser som kreves totalt på eiendommen minus antall parkeringsplasser i garasje/carport. Hvis det kreves 5 parkeringsplasser, du har 2 i garasje/carport og hver parkeringsplass må være 10 m<sup>2</sup>, vil det påkrevde parkeringsarealet være (5-2)*10 m<sup>2</sup> = 30 m<sup>2</sup>.</p>",
                              "children": [
                                {
                                  "id": "parkeringssum",
                                  "property": "parkeringssum",
                                  "type": "Sum",
                                  "values": [
                                    "requiredParkingSpots",
                                    "numberOfParkinglotsInCarport",
                                    "parkingPlaceArea"
                                  ],
                                  "operations": ["+", "-", "*"],
                                  "minimum": 0,
                                  "optional": true,
                                  "heading":
                                    "Nødvendig parkeringsplassareal på terreng på terreng:",
                                  "unit": "m<sup>2</sup>"
                                },
                                {
                                  "id": "ekstraparkeringssum",
                                  "property": "ekstraparkeringssum",
                                  "type": "Sum",
                                  "values": [
                                    "requiredParkingSpots",
                                    "numberOfParkinglotsInCarport"
                                  ],
                                  "operations": ["+", "-"],
                                  "optional": true,
                                  "heading": "Ekstra parkeringsplasser:",
                                  "unit": "stk",
                                  "minimum": 0
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "Branch",
                  "branches": [
                    {
                      "test": {
                        "type": "and",
                        "clauses": [
                          {
                            "field": "hasRequiredExtraTerrainParkingPlacesInRegPlan",
                            "operator": "eq",
                            "value": "yes"
                          },
                          {
                            "field": "requiredParkingSpots",
                            "operator": "gt",
                            "value": {
                              "fields": [
                                "numberOfParkinglotsInCarport",
                                "requiredParkingSpotsTerrain"
                              ]
                            }
                          }
                        ]
                      },
                      "children": [
                        {
                          "id": "numberOfParkinglotsInCarportToFew",
                          "type": "ErrorOk",
                          "simple": true,
                          "children": [
                            {
                              "id": "numberOfParkinglotsInCarportToFewText",
                              "type": "Text",
                              "warning": true,
                              "variables": true,
                              "text":
                                "Det totale parkeringskravet er ikke dekket. Det er lagt til manglende parkeringsplasser for å oppfylle minstekravet på din eiendom."
                            },
                            {
                              "id": "parkingGroup",
                              "property": "parkingGroup",
                              "type": "Group",
                              "simple": true,
                              "optional": true,
                              "summary": "Beskrivelse av utregning",
                              "details":
                                "<p>Hvor stort parkeringsareal du må ha er produktet av hvor stor hver parkeringsplass må være, det tallet som er støst av antall parkeringsplasser som kreves på terreng og antall parkeringsplasser som kreves totalt på eiendommen minus antall parkeringsplaser i garasje/carport. Hvis hver parkeringsplass må være 10 m<sup>2</sup>, det kreves 5 parkeringsplasser, du har 2 i garasje/carport, men det kreves 4 parkeringsplasser på terreng, vil det påkrevde arealet være 4*10 m<sup>2</sup> = 40 m<sup>2</sup>, fordi 4 er større enn 5-2. Hvis det derimot kreves 2 parkeringsplasser på terreng, vil det påkrevde arealet være (5-2)*10 m<sup>2</sup> =30 m<sup>2</sup>, fordi 5-2 er større enn 2. </p>",
                              "children": [
                                {
                                  "id": "parkeringssum",
                                  "property": "parkeringssum",
                                  "type": "Sum",
                                  "values": [
                                    "requiredParkingSpots",
                                    "numberOfParkinglotsInCarport",
                                    "requiredParkingSpotsTerrain",
                                    "requiredParkingSpotsTerrain",
                                    "parkingPlaceArea"
                                  ],
                                  "operations": ["+", "-", "-", "+", "*"],
                                  "minimum": 0,
                                  "optional": true,
                                  "heading": "Nødvendig parkeringsplassareal på terreng:",
                                  "unit": "m<sup>2</sup>"
                                },
                                {
                                  "id": "ekstraparkeringssum",
                                  "property": "ekstraparkeringssum",
                                  "type": "Sum",
                                  "values": [
                                    "requiredParkingSpots",
                                    "numberOfParkinglotsInCarport",
                                    "requiredParkingSpotsTerrain"
                                  ],
                                  "operations": ["+", "-", "-"],
                                  "optional": true,
                                  "heading": "Ekstra parkeringsplasser:",
                                  "unit": "stk",
                                  "minimum": 0
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "Branch",
                  "branches": [
                    {
                      "test": {
                        "type": "and",
                        "clauses": [
                          {
                            "field": "hasRequiredExtraTerrainParkingPlacesInRegPlan",
                            "operator": "eq",
                            "value": "no"
                          },
                          {
                            "field": "requiredParkingSpots",
                            "operator": "required"
                          },
                          {
                            "field": "numberOfParkinglotsInCarport",
                            "operator": "required"
                          },
                          {
                            "field": "parkingPlaceArea",
                            "operator": "required"
                          },
                          {
                            "field": "numberOfParkinglotsInCarport",
                            "operator": "gte",
                            "value": {
                              "field": "requiredParkingSpots"
                            }
                          }
                        ]
                      },
                      "children": [
                        {
                          "id": "parkingGroup",
                          "property": "parkingGroup",
                          "type": "Group",
                          "simple": true,
                          "optional": true,
                          "summary": "Beskrivelse av utregning",
                          "details":
                            "<p>Hvor stort parkeringsareal du må ha er produktet av hvor stor hver parkeringsplass må være og antall parkeringsplasser som kreves totalt på eiendommen minus antall parkeringsplasser i garasje/carport. Hvis det kreves 5 parkeringsplasser, du har 2 i garasje/carport og hver parkeringsplass må være 10 m<sup>2</sup>, vil det påkrevde parkeringsarealet være (5-2)*10 m<sup>2</sup> = 30 m<sup>2</sup>.</p>",
                          "children": [
                            {
                              "id": "parkeringssum",
                              "property": "parkeringssum",
                              "type": "Sum",
                              "values": ["requiredParkingSpots", "numberOfParkinglotsInCarport"],
                              "operations": ["+", "-"],
                              "minimum": 0,
                              "optional": true,
                              "heading": "Du har nok parkeringsplasser i garasje/carport",
                              "unit": "m<sup>2</sup>"
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "Branch",
                  "branches": [
                    {
                      "test": {
                        "type": "and",
                        "clauses": [
                          {
                            "field": "hasRequiredExtraTerrainParkingPlacesInRegPlan",
                            "operator": "eq",
                            "value": "yes"
                          },
                          {
                            "field": "requiredParkingSpots",
                            "operator": "required"
                          },
                          {
                            "field": "numberOfParkinglotsInCarport",
                            "operator": "required"
                          },
                          {
                            "field": "parkingPlaceArea",
                            "operator": "required"
                          },
                          {
                            "field": "requiredParkingSpotsTerrain",
                            "operator": "required"
                          },
                          {
                            "field": "requiredParkingSpots",
                            "operator": "lte",
                            "value": {
                              "fields": [
                                "numberOfParkinglotsInCarport",
                                "requiredParkingSpotsTerrain"
                              ]
                            }
                          }
                        ]
                      },
                      "children": [
                        {
                          "id": "parkingGroup",
                          "property": "parkingGroup",
                          "type": "Group",
                          "simple": true,
                          "optional": true,
                          "summary": "Beskrivelse av utregning",
                          "details":
                            "<p>Hvor stort parkeringsareal du må ha er produktet av hvor stor hver parkeringsplass må være, det tallet som er støst av antall parkeringsplasser som kreves på terreng og antall parkeringsplasser som kreves totalt på eiendommen minus antall parkeringsplaser i garasje/carport. Hvis hver parkeringsplass må være 10 m<sup>2</sup>, det kreves 5 parkeringsplasser, du har 2 i garasje/carport, men det kreves 4 parkeringsplasser på terreng, vil det påkrevde arealet være 4*10 m<sup>2</sup> = 40 m<sup>2</sup>, fordi 4 er større enn 5-2. Hvis det derimot kreves 2 parkeringsplasser på terreng, vil det påkrevde arealet være (5-2)*10 m<sup>2</sup> =30 m<sup>2</sup>, fordi 5-2 er større enn 2. </p>",
                          "children": [
                            {
                              "id": "parkeringssum",
                              "property": "parkeringssum",
                              "type": "Sum",
                              "values": ["requiredParkingSpotsTerrain", "parkingPlaceArea"],
                              "operations": ["+", "*"],
                              "minimum": 0,
                              "optional": true,
                              "heading": "Nødvendig parkeringsplassareal på terreng på terreng:",
                              "unit": "m<sup>2</sup>"
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "Branch",
      "branches": [
        {
          "test": {
            "type": "and",
            "clauses": [
              {
                "field": "utilizationArea",
                "operator": "required"
              },
              {
                "type": "or",
                "clauses": [
                  {
                    "field": "kommuneplanen",
                    "operator": "eq",
                    "value": "pbya"
                  },
                  {
                    "field": "kommuneplanen",
                    "operator": "eq",
                    "value": "pbra"
                  },
                  {
                    "field": "kommuneplanen",
                    "operator": "eq",
                    "value": "ptu"
                  }
                ]
              }
            ]
          },
          "children": [
            {
              "id": "hooray",
              "type": "Result",
              "heading": "Du er innenfor det som er tillatt å bygge på eiendommen din",
              "errorheading": "Du har ikke svart på alle spørsmålene",
              "lead":
                "Husk at det er ditt ansvar at du oppgir riktig informasjon og bygger lovlig. Dersom bygningen er oppført ulovlig kan den i verste fall rives. Hvis du ønsker å endre noe, kan du klikke deg inn på hvert spørsmål i oppsummeringen nedenfor.",
              "errorlead":
                "Vi kan ikke gi deg et ordentlig resultat før du har svart på alle spørsmålene i veiviseren. Du kan se hvilke spørsmål du ikke har svart på i oppsummeringen under. Der kan du også klikke deg inn på hvert steg i veiviseren for å legge til og endre dine svar.",
              "exporter": "dataExport",
              "beforeResult": [
                {
                  "id": "resultGroup",
                  "property": "resultGroupe",
                  "type": "Group",
                  "simple": true,
                  "optional": true,
                  "summary": "Vis detaljer",
                  "details":
                    "<p><strong>Tillatt grad av utnytting</strong> er produktet av størrelsen på eiendommen din minus arealet som er regulert til noe annet enn bebyggelse, og den tillatte graden av utnyttelse. Hvis størrelsen på eiendommen din er 100m2, arealet som er regulert til noe annet enn bebyggelse er 10m2 og den tillatte graden av utnyttelse er 60%, vil den arealet du kan utnytte være (100-10)*0,60 = 54m2</p><p><strong>Planlagt graden av utnytting</strong> er summen av arealet som er bebygd i dag, størrelsen av det nye du skal bygge og eventuelt parkeringsareal du må ha på tomten, minus arealet som skal rives.</p>",
                  "children": [
                    {
                      "id": "utnyttingsgrad",
                      "property": "utnyttingsgrad",
                      "type": "Sum",
                      "values": ["builtResidence"],
                      "heading": "Tillatt utnyttingsgrad",
                      "optional": true,
                      "final": true,
                      "unit": "m<sup>2</sup>"
                    },
                    {
                      "id": "bruktAreal",
                      "property": "bruktAreal",
                      "type": "Sum",
                      "values": ["builtResidence"],
                      "heading": "Planlagt utnyttingsgrad",
                      "optional": true,
                      "final": true,
                      "unit": "m<sup>2</sup>"
                    },
                    {
                      "id": "sisteTall",
                      "property": "sisteTall",
                      "type": "Sum",
                      "values": ["builtResidence"],
                      "heading": "Gjenstående areal",
                      "optional": true,
                      "final": true,
                      "unit": "m<sup>2</sup>"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "Branch",
      "branches": [
        {
          "test": {
            "type": "and",
            "clauses": [
              {
                "field": "utilizationArea",
                "operator": "required"
              },
              {
                "type": "or",
                "clauses": [
                  {
                    "field": "kommuneplanen",
                    "operator": "eq",
                    "value": "bya"
                  },
                  {
                    "field": "kommuneplanen",
                    "operator": "eq",
                    "value": "bra"
                  },
                  {
                    "field": "kommuneplanen",
                    "operator": "eq",
                    "value": "tu"
                  }
                ]
              }
            ]
          },
          "children": [
            {
              "id": "hooray",
              "type": "Result",
              "heading": "Du er innenfor det som er tillatt å bygge på eiendommen din",
              "errorheading": "Du har ikke svart på alle spørsmålene",
              "lead":
                "Husk at det er ditt ansvar at du oppgir riktig informasjon og bygger lovlig. Dersom bygningen er oppført ulovlig kan den i verste fall rives. Hvis du ønsker å endre noe, kan du klikke deg inn på hvert spørsmål i oppsummeringen nedenfor.",
              "errorlead":
                "Vi kan ikke gi deg et ordentlig resultat før du har svart på alle spørsmålene i veiviseren. Du kan se hvilke spørsmål du ikke har svart på i oppsummeringen under. Der kan du også klikke deg inn på hvert steg i veiviseren for å legge til og endre dine svar.",
              "exporter": "dataExport",
              "beforeResult": [
                {
                  "id": "resultGroup",
                  "property": "resultGroupe",
                  "type": "Group",
                  "simple": true,
                  "optional": true,
                  "summary": "Vis detaljer",
                  "details":
                    "<p><strong>Tillatt grad av utnytting</strong> er arealet som er definert i reguleringsplanen eller kommuneplanen.</p><p><strong>Planlagte graden av utnytting</strong> er summen av arealet som er bebygd i dag, størrelsen av det nye du skal bygge og eventuelt parkeringsareal du må ha på tomten, minus arealet som skal rives.</p>",
                  "children": [
                    {
                      "id": "utnyttingsgrad",
                      "property": "utnyttingsgrad",
                      "type": "Sum",
                      "values": ["builtResidence"],
                      "heading": "Tillatt utnyttingsgrad",
                      "optional": true,
                      "final": true,
                      "unit": "m<sup>2</sup>"
                    },
                    {
                      "id": "bruktAreal",
                      "property": "bruktAreal",
                      "type": "Sum",
                      "values": ["builtResidence"],
                      "heading": "Planlagt utnyttingsgrad",
                      "optional": true,
                      "final": true,
                      "unit": "m<sup>2</sup>"
                    },
                    {
                      "id": "sisteTall",
                      "property": "sisteTall",
                      "type": "Sum",
                      "values": ["builtResidence"],
                      "heading": "Gjenstående areal",
                      "optional": true,
                      "final": true,
                      "unit": "m<sup>2</sup>"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
